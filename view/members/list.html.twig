{% extends "layout/main.html.twig" %}
{% set active_page = 'get_members' %}
{% block title %}::Membros{% endblock %}
{% block body %}
    <div class="page-header">
        <h1>Membros</h1>
    </div>
    <div class="btn-group pull-right" role="group">
        <button type="button" class="btn btn-primary member-new">
            <span class="glyphicon glyphicon-plus"></span>&nbsp;Novo membro
        </button>
    </div>
    <br style="clear:both" />
    <br />
    {% if members is not empty %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>&nbsp;</th>
                <th>Nome</th>
                <th>Karma</th>
                <th>Status</th>
                <th>Data afiliação</th>
            </tr>
        </thead>
        <tbody>
            {% for member in members %}
            <tr>
                <td>
                    <button class="btn btn-danger btn-xs">{{ bt_glyph('remove') }}</button>
                    <button class="btn btn-success btn-xs">{{ bt_glyph('eye-open') }}</button>
                    <button class="btn btn-primary btn-xs">{{ bt_glyph('pencil') }}</button>
                </td>
                <td>{{ member.name }}</td>
                <td>???</td>
                <td><span class="label label-success">ativo</span></td>
                <td>{{ member.affiliation|date('d/m/Y') }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="6" class="text-right">Número de membros: {{ members|length }}</td>
            </tr>
        </tfoot>
    </table>
    {% else %}
        <div class="alert alert-info text-center">Nenhum membro cadastrado.</div>
    {% endif %}
{% endblock %}
{% block javascripts %}
$('.member-new').click(function(){
    window.location.assign('{{ app.url_generator.generate('member_edit') }}');
});
{% endblock %}